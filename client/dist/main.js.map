{"version":3,"sources":["webpack:///./src/components/Aside/AsideRight.js","webpack:///./src/components/AsideNavLeft/AsideNavLeft.js","webpack:///./src/components/Main/Main.js","webpack:///./src/components/Home/Home.js","webpack:///./src/components/NotAvailable/NotAvailable.js","webpack:///./src/components/Login/Login.js","webpack:///./src/components/Register/Register.js","webpack:///./src/components/Explorer/Explorer.js","webpack:///./src/components/Profil/Profil.js","webpack:///./src/components/Header/Header.js","webpack:///./src/components/InfosBar/InfosBar.js","webpack:///./src/App.js","webpack:///./src/index.js"],"names":["AsideRight","props","useState","ownPosts","setOwnPosts","setCurrentUser","getMyPosts","a","axios","get","withCredentials","then","posts","data","element","map","post","useEffect","currentUser","eachOfMyPost","filter","userId","email","key","_id","className","content","date","hours","onClick","postId","window","confirm","delete","reverse","AsideNavLeft","history","useHistory","response","status","push","cookie","remove","Main","setPosts","setValue","useForm","register","handleSubmit","getPosts","watch","errors","onChange","event","target","value","eachPost","src","avatar","alt","username","type","placeholder","name","maxLength","minLength","ref","required","document","querySelector","Home","decodedId","setDecodedId","token","user","id","createtAt","createdAt","updatedAt","length","replace","decodedToken","jwt_decode","sub","NotAvailable","href","Login","errorMessage","setErrorMessage","useCookies","setCookie","onSubmit","req","error","message","password","to","Register","formData","FormData","append","file","Explorer","Profil","changeAvatar","res","background","backgroundImage","style","for","Header","InfosBar","nbOfUsers","setNbOfUsers","nbOfPosts","setNbOfPosts","users","all","spread","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"main.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./asideRight.css\";\nimport axios from \"axios\";\n\nfunction AsideRight(props) {\n  const [ownPosts, setOwnPosts] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n\n  const getMyPosts = async () => {\n    await axios\n      .get(\"/posts\", { withCredentials: true })\n      .then((posts) => posts.data)\n      .then((element) => {\n        const posts = element.map((post) => post);\n        setOwnPosts(posts);\n      });\n  };\n\n  useEffect(() => {\n    if (props.currentUser) {\n      setCurrentUser(props.currentUser);\n    }\n    getMyPosts();\n  }, []);\n\n  const deletePost = (postId) => {\n    let confirm = window.confirm(\n      \"êtes-vous sûr de vouloir supprimer ce Sweet ?\"\n    );\n    if (confirm) {\n      axios.delete(\"/posts/deletePost/\" + postId, {\n        withCredentials: true,\n      });\n    }\n    getMyPosts();\n  };\n\n  const myPost = ownPosts.filter(\n    (post) => post.userId.email === props.currentUser.email\n  );\n  const eachOfMyPost = myPost.map((element) => (\n    <div key={element._id} className='myFakeTweets'>\n      <div className='myFakeTweets__content'>{element.content}</div>\n      <div className='myFakeTweets__date'>\n        Posté le {element.date} à {element.hours} .\n      </div>\n      <button onClick={() => deletePost(element._id)}> Effacer </button>\n    </div>\n  ));\n\n  return (\n    <div className='containerRight'>\n      {/* <div className='rightSearchBar'>\n        <input type='text' placeholder='Recherche posts' />\n      </div> */}\n\n      <div className='rightTitle'>\n        <h3>Mes posts :</h3>\n      </div>\n\n      <div className='rightContent'>{eachOfMyPost.reverse()}</div>\n    </div>\n  );\n}\n\nexport default AsideRight;\n","import React from \"react\";\nimport \"./asideNavLeft.css\";\nimport axios from \"axios\";\nimport cookie from 'react-cookies'\nimport { useHistory } from \"react-router-dom\";\n\n\nfunction AsideNavLeft() {\n  let history = useHistory();\n  const logOut = () => {\n    axios\n      .post(\"/logout\", { withCredentials: true })\n      .then((response) => {\n        if (response.status === 200) {\n          history.push(\"/login\");\n          // document.cookie = \"token\" + \"=\" + \"\";\n          cookie.remove('token')\n\n        }\n      });\n  };\n\n  return (\n    <nav className='containerLeft'>   \n\n      <div className='leftButton'>\n        <button className='buttonTweeter leftButton--logout' onClick={logOut}>\n          {\" \"}\n          Deconnexion{\" \"}\n        </button>\n      </div>\n    </nav>\n  );\n}\n\nexport default AsideNavLeft;\n","import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport \"./main.css\";\nimport axios from \"axios\";\n\nconst Main = (props) => {\n  const [posts, setPosts] = useState([]);\n  const [value, setValue] = useState();\n  const { register, handleSubmit, watch, errors } = useForm();\n\n  const getPosts = async () => {\n    const posts = await axios.get(\"/posts\", {\n      withCredentials: true,\n    });\n    setPosts(posts.data);\n  };\n\n  const onSubmit = (data) => {\n    axios.post(\n      \"/posts/newPost\",\n      { ...data },\n      { withCredentials: true }\n    );\n    document.querySelector(\".input--postTweet\").value = \"\";\n    getPosts();\n  };\n\n  const onChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  const eachPost = posts.map((element) => (\n    <div key={element._id} className='containerEachUser'>\n      <div className='eachUseravatar'>\n        <img src={`/api/avatar/${element.userId.avatar}`} alt='photo utilisateur' />\n      </div>\n\n      <div className='eachUserPseudo'>\n        <p>{element.userId.username}</p>\n      </div>\n\n      <div className='eachUserPost'>{element.content}</div>\n\n      <div className='eachUserPostTool'>\n        Posté le {element.date} à {element.hours} .\n      </div>\n\n    </div>\n  ));\n\n  return (\n    <div className='containterMain'>\n      <div className='mainHeader'>          \n\n          <div className='mainform'>\n            <form>\n              <input\n                className='input--postTweet'\n                type='text'\n                onChange={() => onChange}\n                placeholder='Quoi de neuf ?'\n                name='content'\n                maxLength='120'\n                minLength='1'\n                ref={register({ required: \"content required\" })}\n              />\n            </form>\n          </div>\n\n          <div className='mainButton'>\n            <button\n              className='buttonTweeterMain'\n              onClick={handleSubmit(onSubmit)}\n            >\n              Poster\n            </button>\n          </div>\n      </div>\n\n      <div className='mainContent'>{eachPost.reverse()}</div>\n    </div>\n  );\n};\n\nexport default Main;\n","import React, { useEffect, useState } from \"react\"\nimport \"./home.css\"\nimport { AsideNavLeft, Main, AsideRight, Header, InfosBar, Explorer } from \"../index\"\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\"\n\n\nfunction Home() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [decodedId, setDecodedId] = useState('');\n  let history = useHistory();\n \n\nuseEffect(() => {\n  axios\n  .get(\"/user/currentUser\", { withCredentials: true })\n  .then((response) => {\n    const user = {\n      id:response.data._id,\n      email: response.data.email,\n      username: response.data.username,\n      avatar: response.data.avatar,\n      createtAt: response.data.createdAt,\n      updatedAt: response.data.updatedAt,\n    }\n    if (response.data) return setCurrentUser(user)\n  })\n  \n  let token;\n  const cookie = document.cookie;\n  \n  if(cookie && cookie.length > 16)  token = document.cookie.replace('token=', '');\n  else{\n    history.push(\"/login\")\n  }\n  const decodedToken = jwt_decode(token);\n  setDecodedId(decodedToken);\n}, [])\n\nreturn (\n  \n  ( currentUser.id === decodedId.sub) ? \n  <div className='container'>\n      <div className=\"header\">\n        <Header />\n      </div>\n\n      <div className=\"homeInfosBar\">\n        <InfosBar />\n      </div>\n      \n      <div className='containerAsideLeft'>\n        <AsideNavLeft />\n      </div>\n\n      <div className='containerMainCenter'>\n        <Main currentUser={currentUser} />\n      </div>\n\n      <div className='containerAsideRight'>\n        <AsideRight currentUser={currentUser} />\n      </div>\n    </div>\n  \n  :\n  <Explorer />\n\n)}\n\nexport default Home\n","import React from \"react\";\n\nfunction NotAvailable() {\n  return (\n    <div>\n      <button>\n        <a href='/home'>Retour</a>\n      </button>\n\n      <h1>Cette page n'est pas encore disponible.</h1>\n    </div>\n  );\n}\n\nexport default NotAvailable;\n","import React,{useState} from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useCookies } from \"react-cookie\";\nimport \"./login.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\n\nfunction Login() {\n  const { register, handleSubmit, watch, errors } = useForm();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [cookies, setCookie] = useCookies([\"\"]);\n  let history = useHistory();\n\n  const onSubmit = (data) => {\n    axios\n      .post(\n        '/login',\n        { ...data },\n        { withCredentials: true }\n      )\n      .then((req) => {\n        if(req.status === 200 && !req.data.error){\n          setCookie('token',req.data.token)\n          history.push('/home')\n        }\n        if(req.data.error) setErrorMessage(req.data.error)\n      })\n  };\n\n  return (\n    <div className='containerLogin'>\n      <h1>Login</h1>\n      <form className='loginForm' onSubmit={handleSubmit(onSubmit)}>\n        <label>Email</label>\n        <input\n          className='loginForm__email'\n          name='email'\n          type='email'\n          ref={register({ required: \"Email required\" })}\n        />\n        {errors.email && <span>{errors.email.message}</span>}\n\n        <label>Mot de passe</label>\n        <input\n          className='loginForm__password'\n          type='password'\n          name='password'\n          ref={register({ required: \"Password required\" })}\n        />\n        {errors.password && <span>{errors.password.message}</span>}\n\n        {errorMessage ? <span className=\"errorMessage\"> {errorMessage} </span> : null}\n\n        <input type='submit' />\n      </form>\n\n      <span>\n        Pas encore de compte ? Cliquez <Link to='/register'>Ici !</Link>\n      </span>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, {useState} from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { useCookies } from \"react-cookie\";\nimport \"./register.css\"\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\"\n\nfunction Register() {\n  const { register, handleSubmit, watch, errors } = useForm()\n  const [errorMessage, setErrorMessage] = useState('');\n  const [cookies, setCookie] = useCookies([\"\"]);\n  let history = useHistory();\n\n  const onSubmit = (data) => {\n    const formData = new FormData();\n    formData.append(\"file\", data.file[0]);\n    formData.append(\"email\", data.email);\n    formData.append(\"password\", data.password);\n    formData.append(\"username\", data.username);\n  \n    axios\n      .post(\n        \"/register\",\n        formData,\n        { withCredentials: true }\n      )\n      .then((req) => {\n       if(req.status === 200 && !req.data.error){\n         setCookie('token',req.data.token)\n         history.push('/home')\n       }\n       if(req.data.error) setErrorMessage(req.data.error)\n      })\n    }\n    \n    return (\n      \n      <div className='containerRegister'>\n      <h1>Register</h1>\n  \n      <span>{errorMessage}</span>\n\n      <form className='registerForm' onSubmit={handleSubmit(onSubmit)}>\n        <label>Avatar</label>\n        <input\n          className='registerForm__avatar'\n          type='file'\n          id='file'\n          name='file'\n          ref={register}\n        />\n\n        <label>username</label>\n        <input\n          className='registerForm__email'\n          name='username'\n          maxLength='12'\n          ref={register({ required: \"username required\" })}\n        />\n\n        <label>Email</label>\n        <input\n          className='registerForm__email'\n          name='email'\n          type='email'\n          ref={register({ required: \"Email required\" })}\n        />\n\n        <label>Mot de passe</label>\n        <input\n          className='registerForm__password'\n          type='password'\n          name='password'\n          ref={register({ required: \"Password required\" })}\n        />\n\n        <input type='submit' />\n      </form>\n\n      <span>Deja un compte ? Cliquez <Link to='/login'> ici !</Link></span>\n    </div>\n  )\n}\n\nexport default Register\n","import React, { useEffect, useState } from \"react\";\nimport \"./explorer.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction Explorer() {\n  const [posts, setPosts] = useState([]);\n\n  const getPosts = async () => {\n    const posts = await axios.get('/api/posts');\n    setPosts(posts.data);\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  const eachPost = posts.map((element) => (\n    <div key={element._id} className='containerEachUser'>\n      <div className='eachUseravatar'>\n        <img src={`/api/avatar/${element.userId.avatar}`} alt='utilisateur' />\n      </div>\n\n      <div className='eachUserPseudo'>{element.userId.username}</div>\n\n      <div className='eachUserPost'>{element.content}</div>\n\n      <div className='eachUserPostTool'>\n        Posté le {element.date} à {element.hours} .\n      </div>\n    </div>\n  ));\n\n  return (\n    <div className='container__Explorer'>\n      <div className='explorer__AsideLeft'>\n        <ul className='AsideLeft__ul'>\n\n\n\n          <Link to='/login'> \n            <button className='AsideLeft__button'>\n            Login\n            </button>\n          </Link>\n\n          <Link to='/register'>\n            <button className='AsideLeft__button'>\n             Signup\n            </button>\n          </Link>\n        </ul>\n\n      \n        \n      </div>\n\n      <div className='explorer__AsideRight'>\n        <div className='AsideRight__header'>\n          <h2>Les derniers posts</h2>\n        </div>\n        <div className=\"AsideRight__content\">\n          {eachPost}\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Explorer;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./profil.css\";\n\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nfunction Profil() {\n  const [currentUser, setCurrentUser] = useState({});\n  const { register, handleSubmit, watch, errors } = useForm();\n  let history = useHistory();\n\n  useEffect(() => {\n    axios\n      .get(\"/user/currentUser\", { withCredentials: true })\n      .then((response) => {\n        const user = {\n          id: response.data._id,\n          email: response.data.email,\n          username: response.data.username,\n          avatar: response.data.avatar,\n          createdAt: response.data.createdAt,\n          updatedAt: response.data.updatedAt,\n        };\n        if (response.data) return setCurrentUser(user);\n      })\n  },[]);\n\n  const changeAvatar = (data) => {\n    const formData = new FormData();\n  formData.append(\"file\", data.file[0]);\n\n  \n      axios.post(`/user/updateUser/${currentUser.id}`, formData, {\n        withCredentials: true,\n      })\n      .then((res) => (res.status === 200 ? (history.push(\"/home\")) : null))\n  };\n\n\n\n  let background = {\n    backgroundImage : \"url(\"+currentUser.avatar+\")\"\n  }\n  \n\n  return (\n    <div className='containerProfil' style={background}>\n    \n      <div className='profil__avatar'>\n        <img alt='profile picture' src={currentUser.avatar ? (`/api/avatar/${currentUser.avatar}`) : 'https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png'} />\n      </div>\n\n      <div className='profil__infos'>\n\n        <span className=\"infos__email\"> {currentUser.email} </span>{\" \"}\n        <span className=\"infos__pseudo\" > {currentUser.username} </span>{\" \"}\n        <span className=\"infos__date\" > Crée le  {currentUser.createdAt} </span>{\" \"}\n\n        <div className='profil__form'>\n          <form className=\"form__avatar\" onSubmit={handleSubmit(changeAvatar)}>\n            <label className=\"profil__label\" for=\"file_input\">\n              <img alt=\"change profile picture\" src='https://www.flaticon.com/svg/static/icons/svg/1837/1837635.svg' />\n            </label>\n            <input\n              className='registerForm__avatar'\n              type='file'\n              name='file'\n              id=\"file_input\"\n              ref={register}\n              onChange={handleSubmit(changeAvatar)}\n            />      \n      \n            <input type=\"submit\" />\n          </form>  \n        </div>\n\n      </div>      \n    </div>\n  );\n}\n\nexport default Profil;\n","import React from \"react\";\nimport Profil from \"../Profil/Profil\";\nimport \"./header.css\";\n\n\n\nfunction Header() {\n\n  return (\n    <div className=\"headerContainer\">\n      <div className=\"headerProfil\">\n        <Profil />\n      </div>\n\n      <div className=\"headerPictures\">\n      </div>\n\n    </div>\n  );\n}\n\nexport default Header;\n","import React, { useEffect, useState } from \"react\"\nimport \"./infosBar.css\"\nimport axios from \"axios\"\n\nfunction InfosBar() {\n  const [nbOfUsers, setNbOfUsers] = useState('');\n  const [nbOfPosts, setNbOfPosts] = useState('');\n\n\n  useEffect(() => {\n    const users = axios.get(\"/user\", { withCredentials: true })\n    const posts = axios.get(\"/posts\", { withCredentials: true })\n    axios\n    .all([users, posts])\n      .then(axios.spread((...response) => {\n        const nbOfUsers = response[0].data.length\n        const nbOfPosts = response[1].data.length\n        setNbOfPosts(nbOfPosts)\n        setNbOfUsers(nbOfUsers)\n      })\n      )\n  }, [])\n\n  return (\n    <div className='infosBar__container'>\n      <div className=\"infosBar__nbOfUsers InfosBar__content\">\n        <span> { nbOfUsers } </span>\n        <p>Utilisateurs</p>\n      </div>\n\n      <div className=\"infosBar__nbOfPosts InfosBar__content\">\n        <span> { nbOfPosts } </span>\n        <p>Posts</p>\n      </div>\n      \n    </div>\n  )\n}\n\nexport default InfosBar\n","import React from 'react';\nimport {Home, NotAvailable, Login, Register, Explorer} from './components/index';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/home\" component={Home} ></Route>\n        <Route exact path=\"/login\" component={Login} ></Route>\n        <Route exact path=\"/register\" component={Register} ></Route>\n        <Route exact path=\"/not_available_yet\" component={NotAvailable} ></Route>\n        <Route exact path=\"/\" component={Explorer} ></Route>\n      </Switch>\n    </Router>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}